# Проект «Проведение А/В-тестирования интернет-магазина»
## Описание проекта
Для оценки изменений, связанных с внедрением улучшенной рекомендательной системы в интернет-магазине, проведено А/В-тестирование.

### Задачи:

- Открыть файл с данными и изучить общую информацию
- Провести предобработку данных
- Проверить соответствие данных теста Техническому заданию
- - Выделить пользователей участвующих в тесте и проверить: период набора пользователей в тест и его соответствие требованиям технического задания;
- - Проверить следуюзщее условие: все ли попавшие в тест пользователи представляют целевой регион и составляет ли общее количество пользователей из целевого региона 15% от общего числа пользователей из целевого региона, зарегистрированных в период набора пользователей в тест;
- - Проверить равномерность распределения пользователей по группам теста и корректность их формирования;
- - Удостовериться, что нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста одновременно.
- Изучить данные о пользовательской активности
   - - проверить, есть пользователи, которые не совершали событий после регистрации, изучите их количество и распределение между группами теста; 
- - Оставить только те события, которые были совершены в первые 14 дней с момента регистрации; принять решение, оставлять ли пользователей, не проживших 14 дней.
- - Оценить, когда пользователи совершают свои первые события каждого вида, построить гистограмму возраста событий.
- - Проверить, какого размера выборки потребуются для получения достоверного результата, при базовой конверсии 50%.
- - Проанализировать связь целевого события - просмотра контактов — и других действий пользователей
- - Оценить, какие действия чаще совершают те пользователи, которые просматривают контакты
- Провести исследовательский анализ данных
- Проверить статистическую разницу долей z-критерием по событиям

### Выводы

Был проведен анализ, чтобы проверить данные на соответствие ТЗ, провести исследовательский анализ, а также проанализировать результаты теста после введения улучшенной рекоментательной системы.

`Перед анализом проведена предобработка данных`:
- Привели столбцы датасетов market_events (столбцы start_dt и finish_dt), users (столбец first_date) и ab_events(event_dt) к типу времени datetime
- явные и неявные дупликаты не обнаружены
- обнаружены пропуски (85,75%) в столбце details датасета ab_events. Пропуски оставляем как есть, так как заполнение столбца details происходит только при оплате.
- в датасете users отфильрованы значения по дате регистрации в соответствии с ТЗ - с 7 по 21 декабря 2020 г.
- в датасете ab_events события совершаются с 7 по 30 декабря 2020, что не соответствует ТЗ. По ТЗ события новых пользователей совершались в период с 7 декабря 2020 по 4 января 2021. Отсутствуют данные за 5 дней. Причинами отсутствия могут быть неверная выгрузка данных, намеренная остановка теста ввиду набора достаточного количества данных.
- События распределены схожим образом по группам А и В, но в группе А регистраций происходит больше. Также пользователей больше в группе А.
- Пересечений между группами А и В теста recommender_system_test нет выявлено.
- Пересечения между группами двух тестов есть - принято решение сохранить пользователей.


- Исключены неактивные пользователи из контрольной и тестовой группы. Пользователи распределены неравномерно по датасету. Необходимо понять, почему так много неактивных пользователей попали в контрольную группу тестирования.
- Сохранены пользователи, которые не прожили 14 дней ввиду того, что бОльшая часть пользователей совершают события в пределах 14 дней.
- Исключены события, которые совершены позднее 14 дней.
- Тестовая группа не соответствует требованиям по размерам выборки. При такой выборке получить достоверный результат не получится.


`В ходе исследования выявлены следующие закономерности:`
- В группе А в среднем на пользователя приходится около 3 событий, в группе В данный показатель чуть ниже - около 2.5-2.6 события.
- Почти у половины пользователей группы А и В (44% и 46%) - Android. Типом устройства Mac пользуются не так активно - всего около 10% в обех группах. У iPhone 20% и 21% в группе А и В соответственно.
- В группе В событим много меньше по сравнению с группой А. Резкий подъем количества событий у группы А наблюдается с 14 декабря - можно предположить, что на это могли повлиять новогодние/рождественские праздники - люди совершают больше действий, покупок и т.д. До 21 декабря у групп с каждым днем все больше событий, после этого количество событий снижается.
- В момент проведения теста попадает одно маркетинговое событие: Christmas&New Year Promo. В период проведения маркетингового события Christmas&New Year Promo на графике не замечено сильное изменение активности пользователей. Сильного эффекта данное маркетинговое событие не оказало.
- Судя по всему, существует так называется "быстрая покупка", когда пользователь может приобрести товар, не пользуясь корзиной. Конверсия переходов к событию product_page и purchase у группы В снизилась по сравнению с группой А. Конверсия в событие product_cart возрасла с 46 по 49%. Ожидаемый эффект увеличения конверсии в группе В на 10 процентных пунктов, относительно конверсии в группе А не наблюдается ни у какого события.

`Перед проведением исследования были поставлены несколько гипотез:`
- Гипотеза 1. Постановка гипотезы:
   - Нулевая гипотеза: статистически значимой разницы между конверсиями в просмотры страницы товара у двух групп нет
   - Альтернативная гипотеза: статистически значимая разница между конверсиями в просмотры страницы товара есть
- Гипотеза 2. Постановка гипотезы:
   - Нулевая гипотеза: статистически значимой разницы между конверсиями перехода к корзине у двух групп нет
   - Альтернативная гипотеза: статистически значимая разница между конверсиями перехода к корзине товара есть
- Гипотеза 3. Постановка гипотезы:
   - Нулевая гипотеза: статистически значимой разницы между конверсиями к покупке у двух групп нет
   - Альтернативная гипотеза: статистически значимая разница между конверсиями к покупке товара есть
    
В результате удалось выявить зависимости:
- Гипотеза 1 не подтверждена: Отвергаем нулевую гипотезу, между долями есть значимая разница.
- Гипотеза 2 подтверждена: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными.    
- Гипотеза 3 не подтверждена: Отвергаем нулевую гипотезу, между долями есть значимая разница.



**Рекомендации**
- Необходимо сформировать достаточный размер выборки в тестовой группе для достоверного проведения тестирования, при условии, что пользователи тестовой группы совершают события.
- По возможности, проводить А/В-тестирование в периодах, не пересекающихся с праздниками, маркетинговыми событиями, чтобы исключить их возможное влияние на активность пользователей.
- Провести повторное А/В-тестирование, учитывая вышеуказанные рекомендации.


Также в дальнейшем можно проанализировать, почему пользователей с Android в два раза больше пользователей iPhone, связано ли это с интерфейсом приложения, наличием багов и т.д.


### Использованные инструменты и библиотеки:
- pandas
- numpy
- scipy
- math
- matplotlib.pyplot
- plotly
